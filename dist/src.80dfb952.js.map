{"version":3,"sources":["../../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js","../../node_modules/@babel/runtime/helpers/classCallCheck.js","../../node_modules/@babel/runtime/helpers/createClass.js","../../node_modules/@babel/runtime/helpers/typeof.js","../../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../../node_modules/@babel/runtime/helpers/inherits.js","../../node_modules/@babel/runtime/helpers/defineProperty.js","../../node_modules/@babel/runtime/helpers/construct.js","../../node_modules/@ungap/weakmap/esm/index.js","../../node_modules/@ungap/template-literal/esm/index.js","../../node_modules/@ungap/template-tag-arguments/esm/index.js","../../node_modules/hyperhtml-wire/esm/index.js","../../node_modules/lighterhtml/esm/shared.js","../../node_modules/@ungap/create-content/esm/index.js","../../node_modules/@ungap/essential-map/esm/index.js","../../node_modules/domdiff/esm/utils.js","../../node_modules/domdiff/esm/index.js","../../node_modules/@ungap/import-node/esm/index.js","../../node_modules/@ungap/trim/esm/index.js","../../node_modules/domconstants/esm/index.js","../../node_modules/domsanitizer/esm/index.js","../../node_modules/domtagger/esm/walker.js","../../node_modules/domtagger/esm/index.js","../../node_modules/hyperhtml-style/esm/index.js","../../node_modules/lighterhtml/esm/tagger.js","../../node_modules/lighterhtml/esm/index.js","../../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../../node_modules/@babel/runtime/helpers/iterableToArray.js","../../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../../node_modules/@babel/runtime/helpers/toConsumableArray.js","../utils/bind_class.util.js","../../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../../node_modules/@babel/runtime/helpers/nonIterableRest.js","../../node_modules/@babel/runtime/helpers/slicedToArray.js","../utils/bind_style.util.js","../Components/View.js","../Components/Button.js","../Components/Stack.js","../Components/Text.js","../Components/TextField.js","../Components/LabelTextField.js","preview.js","../Components/Segment.js","../Navigation/NavigationView.js","../index.js","../../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["self","WeakMap","id","Object","dP","defineProperty","hOP","hasOwnProperty","proto","prototype","delete","key","has","_","get","call","set","value","configurable","iterable","forEach","add","pair","Math","random","isNoOp","document","templateLiteral","tl","RAW","isBroken","UA","test","broken","defaultView","navigator","userAgent","FTS","propertyIsEnumerable","isFrozen","forever","foreverCache","i","length","wm","unique","TL","template","arguments","args","push","Wire","slice","ELEMENT_NODE","nodeType","remove","keepFirst","childNodes","first","firstChild","last","lastChild","parentNode","removeChild","range","ownerDocument","createRange","setStartBefore","setEndAfter","deleteContents","valueOf","forceAppend","fragment","noFragment","createDocumentFragment","n","l","appendChild","nodes","isArray","Array","wireType","createContent","FRAGMENT","TEMPLATE","HAS_CONTENT","create","createHTML","html","innerHTML","content","selector","RegExp","$1","querySelectorAll","append","markup","type","createSVG","root","element","createElementNS","svg","Map","k","v","had","contains","splice","callback","context","indexOf","parent","children","start","end","before","isSelect","selectedIndex","child","selected","insertBefore","eqeq","a","b","identity","O","moreNodes","moreStart","moreEnd","lessNodes","lessStart","lessEnd","compare","m","isReversed","futureNodes","futureEnd","currentNodes","currentStart","currentEnd","next","list","nextSibling","DELETION","INSERTION","SKIP","SKIP_OND","HS","futureStart","futureChanges","currentChanges","minLen","link","tresh","keymap","idxInOld","findK","newi","oldi","prev","diff","ptr","OND","rows","cols","d","r","c","pv","cv","pd","outer","diffIdx","applyDiff","currentLength","live","currentIndex","ktr","j","lo","hi","mid","smartDiff","domdiff","options","node","currentSame","futureSame","importNode","cloneNode","createTextNode","native","deep","clone","trim","String","replace","UID","toFixed","UID_IE","tabindex","getAttribute","createElement","meh","UIDC","COMMENT_NODE","DOCUMENT_FRAGMENT_NODE","TEXT_NODE","SHOULD_USE_TEXT_CONTENT","VOID_ELEMENTS","join","selfClosing","fullClosing","attrSeeker","attrReplacer","spaces","almostEverything","attrName","tagName","attrPartials","findAttributes","$0","$2","$3","replaceAttributes","find","path","parse","holes","parts","childPath","concat","parseAttributes","textContent","shift","nodeName","Text","Any","cache","attributes","array","attribute","direct","sparse","split","name","realName","toLowerCase","Attr","skip","attr","removeAttribute","removeAttributeNode","script","setAttributeNode","replaceChild","domtagger","parsed","referenced","createInfo","transform","cleanContent","info","updates","len","off","fn","any","values","text","Error","update","createDetails","details","apply","hyperStyle","IS_NON_DIMENSIONAL","hyphen","original","style","ized","setAttribute","getAttributeNode","toStyle","object","css","isSVG","oldType","oldValue","newValue","styleValue","cssText","setProperty","OWNER_SVG_ELEMENT","asNode","item","canDiff","hyperAttribute","owner","hyperEvent","removeEventListener","addEventListener","hyperProperty","hyperRef","ref","current","hyperSetter","readOnly","Tagger","diffOptions","fastPath","anyContent","map","invoke","container","hook","useRef","createHook","render","appendClean","result","forceFragment","view","for","tag","wire","tagger","unrollArray","tta","wiredContent","Hole","stack","reference","ret","unroll","hole","level","stacked","kind","tpl","control","arr","freeze","bind_class","classes","static_class","keys","filter","classname","bind_style","style_object","entries","reduce","styleString","propName","propValue","matches","UIView","class_name","class_list","top","right","bottom","left","specific_style","padding","margin","View","UIButton","label","action","Button","UIStack","add_class","UIHorizontalStack","UIVerticalStack","HStack","VStack","TEXT_STYLE","large_title","subheadline","footnote","body","UIText","font_stack","UITextField","placeholder","formater","TextField","UILabelTextField","LabelTextField","test_view","set_action","console","log","set_default_element","selected_value","need_update","window","UISegment","items","index","selected_item","Segment","UINavigationView","NavigationView","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","overlay","createErrorOverlay","getElementById","stackTrace","innerText","getParents","modules","parents","dep","Function","deps","cached","some","cb"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AChCA;AACA,IAAIA,IAAI,GAAG;AAAQ;AAA2B,EAA9C;;AACA,IAAI;AAAEA,EAAAA,IAAI,CAACC,OAAL,GAAeA,OAAf;AAAyB,CAA/B,CACA,OAAOA,OAAP,EAAgB;AACd;AACA;AACAD,EAAAA,IAAI,CAACC,OAAL,GAAgB,UAAUC,EAAV,EAAcC,MAAd,EAAsB;AAAC;;AACrC,QAAIC,EAAE,GAAGD,MAAM,CAACE,cAAhB;AACA,QAA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","file":"src.80dfb952.js","sourceRoot":"../src/preview","sourcesContent":["function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nmodule.exports = _taggedTemplateLiteral;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","/*! (c) Andrea Giammarchi - ISC */\nvar self = this || /* istanbul ignore next */ {};\ntry { self.WeakMap = WeakMap; }\ncatch (WeakMap) {\n  // this could be better but 90% of the time\n  // it's everything developers need as fallback\n  self.WeakMap = (function (id, Object) {'use strict';\n    var dP = Object.defineProperty;\n    var hOP = Object.hasOwnProperty;\n    var proto = WeakMap.prototype;\n    proto.delete = function (key) {\n      return this.has(key) && delete key[this._];\n    };\n    proto.get = function (key) {\n      return this.has(key) ? key[this._] : void 0;\n    };\n    proto.has = function (key) {\n      return hOP.call(key, this._);\n    };\n    proto.set = function (key, value) {\n      dP(key, this._, {configurable: true, value: value});\n      return this;\n    };\n    return WeakMap;\n    function WeakMap(iterable) {\n      dP(this, '_', {value: '_@ungap/weakmap' + id++});\n      if (iterable)\n        iterable.forEach(add, this);\n    }\n    function add(pair) {\n      this.set(pair[0], pair[1]);\n    }\n  }(Math.random(), Object));\n}\nexport default self.WeakMap;\n","import WeakMap from '@ungap/weakmap';\n\nvar isNoOp = typeof document !== 'object';\n\nvar templateLiteral = function (tl) {\n  var RAW = 'raw';\n  var isBroken = function (UA) {\n    return /(Firefox|Safari)\\/(\\d+)/.test(UA) &&\n          !/(Chrom|Android)\\/(\\d+)/.test(UA);\n  };\n  var broken = isBroken((document.defaultView.navigator || {}).userAgent);\n  var FTS = !(RAW in tl) ||\n            tl.propertyIsEnumerable(RAW) ||\n            !Object.isFrozen(tl[RAW]);\n  if (broken || FTS) {\n    var forever = {};\n    var foreverCache = function (tl) {\n      for (var key = '.', i = 0; i < tl.length; i++)\n        key += tl[i].length + '.' + tl[i];\n      return forever[key] || (forever[key] = tl);\n    };\n    // Fallback TypeScript shenanigans\n    if (FTS)\n      templateLiteral = foreverCache;\n    // try fast path for other browsers:\n    // store the template as WeakMap key\n    // and forever cache it only when it's not there.\n    // this way performance is still optimal,\n    // penalized only when there are GC issues\n    else {\n      var wm = new WeakMap;\n      var set = function (tl, unique) {\n        wm.set(tl, unique);\n        return unique;\n      };\n      templateLiteral = function (tl) {\n        return wm.get(tl) || set(tl, foreverCache(tl));\n      };\n    }\n  } else {\n    isNoOp = true;\n  }\n  return TL(tl);\n};\n\nexport default TL;\n\nfunction TL(tl) {\n  return isNoOp ? tl : templateLiteral(tl);\n}\n","import unique from '@ungap/template-literal';\n\nexport default function (template) {\n  var length = arguments.length;\n  var args = [unique(template)];\n  var i = 1;\n  while (i < length)\n    args.push(arguments[i++]);\n  return args;\n};\n","/*! (c) Andrea Giammarchi - ISC */\nvar Wire = (function (slice, proto) {\n\n  proto = Wire.prototype;\n\n  proto.ELEMENT_NODE = 1;\n  proto.nodeType = 111;\n\n  proto.remove = function (keepFirst) {\n    var childNodes = this.childNodes;\n    var first = this.firstChild;\n    var last = this.lastChild;\n    this._ = null;\n    if (keepFirst && childNodes.length === 2) {\n      last.parentNode.removeChild(last);\n    } else {\n      var range = this.ownerDocument.createRange();\n      range.setStartBefore(keepFirst ? childNodes[1] : first);\n      range.setEndAfter(last);\n      range.deleteContents();\n    }\n    return first;\n  };\n\n  proto.valueOf = function (forceAppend) {\n    var fragment = this._;\n    var noFragment = fragment == null;\n    if (noFragment)\n      fragment = (this._ = this.ownerDocument.createDocumentFragment());\n    if (noFragment || forceAppend) {\n      for (var n = this.childNodes, i = 0, l = n.length; i < l; i++)\n        fragment.appendChild(n[i]);\n    }\n    return fragment;\n  };\n\n  return Wire;\n\n  function Wire(childNodes) {\n    var nodes = (this.childNodes = slice.call(childNodes, 0));\n    this.firstChild = nodes[0];\n    this.lastChild = nodes[nodes.length - 1];\n    this.ownerDocument = nodes[0].ownerDocument;\n    this._ = null;\n  }\n\n}([].slice));\nexport default Wire;\n","import Wire from 'hyperhtml-wire';\n\nconst {isArray} = Array;\nconst wireType = Wire.prototype.nodeType;\n\nexport {\n  Wire,\n  isArray,\n  wireType\n};\n","/*! (c) Andrea Giammarchi - ISC */\nvar createContent = (function (document) {'use strict';\n  var FRAGMENT = 'fragment';\n  var TEMPLATE = 'template';\n  var HAS_CONTENT = 'content' in create(TEMPLATE);\n\n  var createHTML = HAS_CONTENT ?\n    function (html) {\n      var template = create(TEMPLATE);\n      template.innerHTML = html;\n      return template.content;\n    } :\n    function (html) {\n      var content = create(FRAGMENT);\n      var template = create(TEMPLATE);\n      var childNodes = null;\n      if (/^[^\\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(html)) {\n        var selector = RegExp.$1;\n        template.innerHTML = '<table>' + html + '</table>';\n        childNodes = template.querySelectorAll(selector);\n      } else {\n        template.innerHTML = html;\n        childNodes = template.childNodes;\n      }\n      append(content, childNodes);\n      return content;\n    };\n\n  return function createContent(markup, type) {\n    return (type === 'svg' ? createSVG : createHTML)(markup);\n  };\n\n  function append(root, childNodes) {\n    var length = childNodes.length;\n    while (length--)\n      root.appendChild(childNodes[0]);\n  }\n\n  function create(element) {\n    return element === FRAGMENT ?\n      document.createDocumentFragment() :\n      document.createElementNS('http://www.w3.org/1999/xhtml', element);\n  }\n\n  // it could use createElementNS when hasNode is there\n  // but this fallback is equally fast and easier to maintain\n  // it is also battle tested already in all IE\n  function createSVG(svg) {\n    var content = create(FRAGMENT);\n    var template = create('div');\n    template.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\">' + svg + '</svg>';\n    append(content, template.firstChild.childNodes);\n    return content;\n  }\n\n}(document));\nexport default createContent;\n","/*! (c) Andrea Giammarchi - ISC */\nvar self = this || /* istanbul ignore next */ {};\ntry { self.Map = Map; }\ncatch (Map) {\n  self.Map = function Map() {\n    var i = 0;\n    var k = [];\n    var v = [];\n    return {\n      delete: function (key) {\n        var had = contains(key);\n        if (had) {\n          k.splice(i, 1);\n          v.splice(i, 1);\n        }\n        return had;\n      },\n      forEach: function forEach(callback, context) {\n        k.forEach(\n          function (key, i)  {\n            callback.call(context, v[i], key, this);\n          },\n          this\n        );\n      },\n      get: function get(key) {\n        return contains(key) ? v[i] : void 0;\n      },\n      has: function has(key) {\n        return contains(key);\n      },\n      set: function set(key, value) {\n        v[contains(key) ? i : (k.push(key) - 1)] = value;\n        return this;\n      }\n    };\n    function contains(v) {\n      i = k.indexOf(v);\n      return -1 < i;\n    }\n  };\n}\nexport default self.Map;\n","import Map from '@ungap/essential-map';\n\nexport const append = (get, parent, children, start, end, before) => {\n  const isSelect = 'selectedIndex' in parent;\n  let selectedIndex = -1;\n  while (start < end) {\n    const child = get(children[start], 1);\n    if (isSelect && selectedIndex < 0 && child.selected)\n      selectedIndex = start;\n    parent.insertBefore(child, before);\n    start++;\n  }\n  if (isSelect && -1 < selectedIndex)\n    parent.selectedIndex = selectedIndex;\n};\n\nexport const eqeq = (a, b) => a == b;\n\nexport const identity = O => O;\n\nexport const indexOf = (\n  moreNodes,\n  moreStart,\n  moreEnd,\n  lessNodes,\n  lessStart,\n  lessEnd,\n  compare\n) => {\n  const length = lessEnd - lessStart;\n  /* istanbul ignore if */\n  if (length < 1)\n    return -1;\n  while ((moreEnd - moreStart) >= length) {\n    let m = moreStart;\n    let l = lessStart;\n    while (\n      m < moreEnd &&\n      l < lessEnd &&\n      compare(moreNodes[m], lessNodes[l])\n    ) {\n      m++;\n      l++;\n    }\n    if (l === lessEnd)\n      return moreStart;\n    moreStart = m + 1;\n  }\n  return -1;\n};\n\nexport const isReversed = (\n  futureNodes,\n  futureEnd,\n  currentNodes,\n  currentStart,\n  currentEnd,\n  compare\n) => {\n  while (\n    currentStart < currentEnd &&\n    compare(\n      currentNodes[currentStart],\n      futureNodes[futureEnd - 1]\n    )) {\n      currentStart++;\n      futureEnd--;\n    };\n  return futureEnd === 0;\n};\n\nexport const next = (get, list, i, length, before) => i < length ?\n              get(list[i], 0) :\n              (0 < i ?\n                get(list[i - 1], -0).nextSibling :\n                before);\n\nexport const remove = (get, parent, children, start, end) => {\n  if ((end - start) < 2)\n    parent.removeChild(get(children[start], -1));\n  else {\n    const range = parent.ownerDocument.createRange();\n    range.setStartBefore(get(children[start], -1));\n    range.setEndAfter(get(children[end - 1], -1));\n    range.deleteContents();\n  }\n};\n\n// - - - - - - - - - - - - - - - - - - -\n// diff related constants and utilities\n// - - - - - - - - - - - - - - - - - - -\n\nconst DELETION = -1;\nconst INSERTION = 1;\nconst SKIP = 0;\nconst SKIP_OND = 50;\n\nconst HS = (\n  futureNodes,\n  futureStart,\n  futureEnd,\n  futureChanges,\n  currentNodes,\n  currentStart,\n  currentEnd,\n  currentChanges\n) => {\n\n  let k = 0;\n  /* istanbul ignore next */\n  let minLen = futureChanges < currentChanges ? futureChanges : currentChanges;\n  const link = Array(minLen++);\n  const tresh = Array(minLen);\n  tresh[0] = -1;\n\n  for (let i = 1; i < minLen; i++)\n    tresh[i] = currentEnd;\n\n  const keymap = new Map;\n  for (let i = currentStart; i < currentEnd; i++)\n    keymap.set(currentNodes[i], i);\n\n  for (let i = futureStart; i < futureEnd; i++) {\n    const idxInOld = keymap.get(futureNodes[i]);\n    if (idxInOld != null) {\n      k = findK(tresh, minLen, idxInOld);\n      /* istanbul ignore else */\n      if (-1 < k) {\n        tresh[k] = idxInOld;\n        link[k] = {\n          newi: i,\n          oldi: idxInOld,\n          prev: link[k - 1]\n        };\n      }\n    }\n  }\n\n  k = --minLen;\n  --currentEnd;\n  while (tresh[k] > currentEnd) --k;\n\n  minLen = currentChanges + futureChanges - k;\n  const diff = Array(minLen);\n  let ptr = link[k];\n  --futureEnd;\n  while (ptr) {\n    const {newi, oldi} = ptr;\n    while (futureEnd > newi) {\n      diff[--minLen] = INSERTION;\n      --futureEnd;\n    }\n    while (currentEnd > oldi) {\n      diff[--minLen] = DELETION;\n      --currentEnd;\n    }\n    diff[--minLen] = SKIP;\n    --futureEnd;\n    --currentEnd;\n    ptr = ptr.prev;\n  }\n  while (futureEnd >= futureStart) {\n    diff[--minLen] = INSERTION;\n    --futureEnd;\n  }\n  while (currentEnd >= currentStart) {\n    diff[--minLen] = DELETION;\n    --currentEnd;\n  }\n  return diff;\n};\n\n// this is pretty much the same petit-dom code without the delete map part\n// https://github.com/yelouafi/petit-dom/blob/bd6f5c919b5ae5297be01612c524c40be45f14a7/src/vdom.js#L556-L561\nconst OND = (\n  futureNodes,\n  futureStart,\n  rows,\n  currentNodes,\n  currentStart,\n  cols,\n  compare\n) => {\n  const length = rows + cols;\n  const v = [];\n  let d, k, r, c, pv, cv, pd;\n  outer: for (d = 0; d <= length; d++) {\n    /* istanbul ignore if */\n    if (d > SKIP_OND)\n      return null;\n    pd = d - 1;\n    /* istanbul ignore next */\n    pv = d ? v[d - 1] : [0, 0];\n    cv = v[d] = [];\n    for (k = -d; k <= d; k += 2) {\n      if (k === -d || (k !== d && pv[pd + k - 1] < pv[pd + k + 1])) {\n        c = pv[pd + k + 1];\n      } else {\n        c = pv[pd + k - 1] + 1;\n      }\n      r = c - k;\n      while (\n        c < cols &&\n        r < rows &&\n        compare(\n          currentNodes[currentStart + c],\n          futureNodes[futureStart + r]\n        )\n      ) {\n        c++;\n        r++;\n      }\n      if (c === cols && r === rows) {\n        break outer;\n      }\n      cv[d + k] = c;\n    }\n  }\n\n  const diff = Array(d / 2 + length / 2);\n  let diffIdx = diff.length - 1;\n  for (d = v.length - 1; d >= 0; d--) {\n    while (\n      c > 0 &&\n      r > 0 &&\n      compare(\n        currentNodes[currentStart + c - 1],\n        futureNodes[futureStart + r - 1]\n      )\n    ) {\n      // diagonal edge = equality\n      diff[diffIdx--] = SKIP;\n      c--;\n      r--;\n    }\n    if (!d)\n      break;\n    pd = d - 1;\n    /* istanbul ignore next */\n    pv = d ? v[d - 1] : [0, 0];\n    k = c - r;\n    if (k === -d || (k !== d && pv[pd + k - 1] < pv[pd + k + 1])) {\n      // vertical edge = insertion\n      r--;\n      diff[diffIdx--] = INSERTION;\n    } else {\n      // horizontal edge = deletion\n      c--;\n      diff[diffIdx--] = DELETION;\n    }\n  }\n  return diff;\n};\n\nconst applyDiff = (\n  diff,\n  get,\n  parentNode,\n  futureNodes,\n  futureStart,\n  currentNodes,\n  currentStart,\n  currentLength,\n  before\n) => {\n  const live = new Map;\n  const length = diff.length;\n  let currentIndex = currentStart;\n  let i = 0;\n  while (i < length) {\n    switch (diff[i++]) {\n      case SKIP:\n        futureStart++;\n        currentIndex++;\n        break;\n      case INSERTION:\n        // TODO: bulk appends for sequential nodes\n        live.set(futureNodes[futureStart], 1);\n        append(\n          get,\n          parentNode,\n          futureNodes,\n          futureStart++,\n          futureStart,\n          currentIndex < currentLength ?\n            get(currentNodes[currentIndex], 0) :\n            before\n        );\n        break;\n      case DELETION:\n        currentIndex++;\n        break;\n    }\n  }\n  i = 0;\n  while (i < length) {\n    switch (diff[i++]) {\n      case SKIP:\n        currentStart++;\n        break;\n      case DELETION:\n        // TODO: bulk removes for sequential nodes\n        if (live.has(currentNodes[currentStart]))\n          currentStart++;\n        else\n          remove(\n            get,\n            parentNode,\n            currentNodes,\n            currentStart++,\n            currentStart\n          );\n        break;\n    }\n  }\n};\n\nconst findK = (ktr, length, j) => {\n  let lo = 1;\n  let hi = length;\n  while (lo < hi) {\n    const mid = ((lo + hi) / 2) >>> 0;\n    if (j < ktr[mid])\n      hi = mid;\n    else\n      lo = mid + 1;\n  }\n  return lo;\n}\n\nexport const smartDiff = (\n  get,\n  parentNode,\n  futureNodes,\n  futureStart,\n  futureEnd,\n  futureChanges,\n  currentNodes,\n  currentStart,\n  currentEnd,\n  currentChanges,\n  currentLength,\n  compare,\n  before\n) => {\n  applyDiff(\n    OND(\n      futureNodes,\n      futureStart,\n      futureChanges,\n      currentNodes,\n      currentStart,\n      currentChanges,\n      compare\n    ) ||\n    HS(\n      futureNodes,\n      futureStart,\n      futureEnd,\n      futureChanges,\n      currentNodes,\n      currentStart,\n      currentEnd,\n      currentChanges\n    ),\n    get,\n    parentNode,\n    futureNodes,\n    futureStart,\n    currentNodes,\n    currentStart,\n    currentLength,\n    before\n  );\n};\n","/*! (c) 2018 Andrea Giammarchi (ISC) */\n\nimport {\n  eqeq, identity, indexOf, isReversed, next,\n  append, remove,\n  smartDiff\n} from './utils.js';\n\nconst domdiff = (\n  parentNode,     // where changes happen\n  currentNodes,   // Array of current items/nodes\n  futureNodes,    // Array of future items/nodes\n  options         // optional object with one of the following properties\n                  //  before: domNode\n                  //  compare(generic, generic) => true if same generic\n                  //  node(generic) => Node\n) => {\n  if (!options)\n    options = {};\n\n  const compare = options.compare || eqeq;\n  const get = options.node || identity;\n  const before = options.before == null ? null : get(options.before, 0);\n\n  const currentLength = currentNodes.length;\n  let currentEnd = currentLength;\n  let currentStart = 0;\n\n  let futureEnd = futureNodes.length;\n  let futureStart = 0;\n\n  // common prefix\n  while (\n    currentStart < currentEnd &&\n    futureStart < futureEnd &&\n    compare(currentNodes[currentStart], futureNodes[futureStart])\n  ) {\n    currentStart++;\n    futureStart++;\n  }\n\n  // common suffix\n  while (\n    currentStart < currentEnd &&\n    futureStart < futureEnd &&\n    compare(currentNodes[currentEnd - 1], futureNodes[futureEnd - 1])\n  ) {\n    currentEnd--;\n    futureEnd--;\n  }\n\n  const currentSame = currentStart === currentEnd;\n  const futureSame = futureStart === futureEnd;\n\n  // same list\n  if (currentSame && futureSame)\n    return futureNodes;\n\n  // only stuff to add\n  if (currentSame && futureStart < futureEnd) {\n    append(\n      get,\n      parentNode,\n      futureNodes,\n      futureStart,\n      futureEnd,\n      next(get, currentNodes, currentStart, currentLength, before)\n    );\n    return futureNodes;\n  }\n\n  // only stuff to remove\n  if (futureSame && currentStart < currentEnd) {\n    remove(\n      get,\n      parentNode,\n      currentNodes,\n      currentStart,\n      currentEnd\n    );\n    return futureNodes;\n  }\n\n  const currentChanges = currentEnd - currentStart;\n  const futureChanges = futureEnd - futureStart;\n  let i = -1;\n\n  // 2 simple indels: the shortest sequence is a subsequence of the longest\n  if (currentChanges < futureChanges) {\n    i = indexOf(\n      futureNodes,\n      futureStart,\n      futureEnd,\n      currentNodes,\n      currentStart,\n      currentEnd,\n      compare\n    );\n    // inner diff\n    if (-1 < i) {\n      append(\n        get,\n        parentNode,\n        futureNodes,\n        futureStart,\n        i,\n        get(currentNodes[currentStart], 0)\n      );\n      append(\n        get,\n        parentNode,\n        futureNodes,\n        i + currentChanges,\n        futureEnd,\n        next(get, currentNodes, currentEnd, currentLength, before)\n      );\n      return futureNodes;\n    }\n  }\n  /* istanbul ignore else */\n  else if (futureChanges < currentChanges) {\n    i = indexOf(\n      currentNodes,\n      currentStart,\n      currentEnd,\n      futureNodes,\n      futureStart,\n      futureEnd,\n      compare\n    );\n    // outer diff\n    if (-1 < i) {\n      remove(\n        get,\n        parentNode,\n        currentNodes,\n        currentStart,\n        i\n      );\n      remove(\n        get,\n        parentNode,\n        currentNodes,\n        i + futureChanges,\n        currentEnd\n      );\n      return futureNodes;\n    }\n  }\n\n  // common case with one replacement for many nodes\n  // or many nodes replaced for a single one\n  /* istanbul ignore else */\n  if ((currentChanges < 2 || futureChanges < 2)) {\n    append(\n      get,\n      parentNode,\n      futureNodes,\n      futureStart,\n      futureEnd,\n      get(currentNodes[currentStart], 0)\n    );\n    remove(\n      get,\n      parentNode,\n      currentNodes,\n      currentStart,\n      currentEnd\n    );\n    return futureNodes;\n  }\n\n  // the half match diff part has been skipped in petit-dom\n  // https://github.com/yelouafi/petit-dom/blob/bd6f5c919b5ae5297be01612c524c40be45f14a7/src/vdom.js#L391-L397\n  // accordingly, I think it's safe to skip in here too\n  // if one day it'll come out like the speediest thing ever to do\n  // then I might add it in here too\n\n  // Extra: before going too fancy, what about reversed lists ?\n  //        This should bail out pretty quickly if that's not the case.\n  if (\n    currentChanges === futureChanges &&\n    isReversed(\n      futureNodes,\n      futureEnd,\n      currentNodes,\n      currentStart,\n      currentEnd,\n      compare\n    )\n  ) {\n    append(\n      get,\n      parentNode,\n      futureNodes,\n      futureStart,\n      futureEnd,\n      next(get, currentNodes, currentEnd, currentLength, before)\n    );\n    return futureNodes;\n  }\n\n  // last resort through a smart diff\n  smartDiff(\n    get,\n    parentNode,\n    futureNodes,\n    futureStart,\n    futureEnd,\n    futureChanges,\n    currentNodes,\n    currentStart,\n    currentEnd,\n    currentChanges,\n    currentLength,\n    compare,\n    before\n  );\n\n  return futureNodes;\n};\n\nexport default domdiff;\n","/*! (c) Andrea Giammarchi - ISC */\nvar importNode = (function (\n  document,\n  appendChild,\n  cloneNode,\n  createTextNode,\n  importNode\n) {\n  var native = importNode in document;\n  // IE 11 has problems with cloning templates:\n  // it \"forgets\" empty childNodes. This feature-detects that.\n  var fragment = document.createDocumentFragment();\n  fragment[appendChild](document[createTextNode]('g'));\n  fragment[appendChild](document[createTextNode](''));\n  var content = native ?\n    document[importNode](fragment, true) :\n    fragment[cloneNode](true);\n  return content.childNodes.length < 2 ?\n    function importNode(node, deep) {\n      var clone = node[cloneNode]();\n      for (var\n        childNodes = node.childNodes || [],\n        length = childNodes.length,\n        i = 0; deep && i < length; i++\n      ) {\n        clone[appendChild](importNode(childNodes[i], deep));\n      }\n      return clone;\n    } :\n    (native ?\n      document[importNode] :\n      function (node, deep) {\n        return node[cloneNode](!!deep);\n      }\n    );\n}(\n  document,\n  'appendChild',\n  'cloneNode',\n  'createTextNode',\n  'importNode'\n));\nexport default importNode;\n","var trim = ''.trim || function () {\n  return String(this).replace(/^\\s+|\\s+/g, '');\n};\nexport default trim;\n","/*! (c) Andrea Giammarchi - ISC */\n\n// Custom\nvar UID = '-' + Math.random().toFixed(6) + '%';\n//                           Edge issue!\n\nvar UID_IE = false;\n\ntry {\n  if (!(function (template, content, tabindex) {\n    return content in template && (\n      (template.innerHTML = '<p ' + tabindex + '=\"' + UID + '\"></p>'),\n      template[content].childNodes[0].getAttribute(tabindex) == UID\n    );\n  }(document.createElement('template'), 'content', 'tabindex'))) {\n    UID = '_dt: ' + UID.slice(1, -1) + ';';\n    UID_IE = true;\n  }\n} catch(meh) {}\n\nvar UIDC = '<!--' + UID + '-->';\n\n// DOM\nvar COMMENT_NODE = 8;\nvar DOCUMENT_FRAGMENT_NODE = 11;\nvar ELEMENT_NODE = 1;\nvar TEXT_NODE = 3;\n\nvar SHOULD_USE_TEXT_CONTENT = /^(?:style|textarea)$/i;\nvar VOID_ELEMENTS = /^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i;\n\nexport {\n  UID, UIDC, UID_IE,\n  COMMENT_NODE,\n  DOCUMENT_FRAGMENT_NODE,\n  ELEMENT_NODE,\n  TEXT_NODE,\n  SHOULD_USE_TEXT_CONTENT,\n  VOID_ELEMENTS\n};\n","/*! (c) Andrea Giammarchi - ISC */\n\nimport {UID, UIDC, VOID_ELEMENTS} from 'domconstants';\n\nexport default function (template) {\n  return template.join(UIDC)\n          .replace(selfClosing, fullClosing)\n          .replace(attrSeeker, attrReplacer);\n}\n\nvar spaces = ' \\\\f\\\\n\\\\r\\\\t';\nvar almostEverything = '[^' + spaces + '\\\\/>\"\\'=]+';\nvar attrName = '[' + spaces + ']+' + almostEverything;\nvar tagName = '<([A-Za-z]+[A-Za-z0-9:._-]*)((?:';\nvar attrPartials = '(?:\\\\s*=\\\\s*(?:\\'[^\\']*?\\'|\"[^\"]*?\"|<[^>]*?>|' + almostEverything.replace('\\\\/', '') + '))?)';\n\nvar attrSeeker = new RegExp(tagName + attrName + attrPartials + '+)([' + spaces + ']*/?>)', 'g');\nvar selfClosing = new RegExp(tagName + attrName + attrPartials + '*)([' + spaces + ']*/>)', 'g');\nvar findAttributes = new RegExp('(' + attrName + '\\\\s*=\\\\s*)([\\'\"]?)' + UIDC + '\\\\2', 'gi');\n\nfunction attrReplacer($0, $1, $2, $3) {\n  return '<' + $1 + $2.replace(findAttributes, replaceAttributes) + $3;\n}\n\nfunction replaceAttributes($0, $1, $2) {\n  return $1 + ($2 || '\"') + UID + ($2 || '\"');\n}\n\nfunction fullClosing($0, $1, $2) {\n  return VOID_ELEMENTS.test($1) ? $0 : ('<' + $1 + $2 + '></' + $1 + '>');\n}\n","import Map from '@ungap/essential-map';\nimport trim from '@ungap/trim';\n\nimport {\n  UID, UIDC,\n  COMMENT_NODE,\n  ELEMENT_NODE,\n  SHOULD_USE_TEXT_CONTENT,\n  TEXT_NODE\n} from 'domconstants';\n\nexport {find, parse};\n\nfunction find(node, path) {\n  var length = path.length;\n  var i = 0;\n  while (i < length)\n    node = node.childNodes[path[i++]];\n  return node;\n}\n\nfunction parse(node, holes, parts, path) {\n  var childNodes = node.childNodes;\n  var length = childNodes.length;\n  var i = 0;\n  while (i < length) {\n    var child = childNodes[i];\n    switch (child.nodeType) {\n      case ELEMENT_NODE:\n        var childPath = path.concat(i);\n        parseAttributes(child, holes, parts, childPath);\n        parse(child, holes, parts, childPath);\n        break;\n      case COMMENT_NODE:\n        var textContent = child.textContent;\n        if (textContent === UID) {\n          parts.shift();\n          holes.push(\n            // basicHTML or other non standard engines\n            // might end up having comments in nodes\n            // where they shouldn't, hence this check.\n            SHOULD_USE_TEXT_CONTENT.test(node.nodeName) ?\n              Text(node, path) :\n              Any(child, path.concat(i))\n          );\n        } else {\n          switch (textContent.slice(0, 2)) {\n            case '/*':\n              if (textContent.slice(-2) !== '*/')\n                break;\n            case '\\uD83D\\uDC7B': // ghost\n              node.removeChild(child);\n              i--;\n              length--;\n          }\n        }\n        break;\n      case TEXT_NODE:\n        // the following ignore is actually covered by browsers\n        // only basicHTML ends up on previous COMMENT_NODE case\n        // instead of TEXT_NODE because it knows nothing about\n        // special style or textarea behavior\n        /* istanbul ignore if */\n        if (\n          SHOULD_USE_TEXT_CONTENT.test(node.nodeName) &&\n          trim.call(child.textContent) === UIDC\n        ) {\n          parts.shift();\n          holes.push(Text(node, path));\n        }\n        break;\n    }\n    i++;\n  }\n}\n\nfunction parseAttributes(node, holes, parts, path) {\n  var cache = new Map;\n  var attributes = node.attributes;\n  var remove = [];\n  var array = remove.slice.call(attributes, 0);\n  var length = array.length;\n  var i = 0;\n  while (i < length) {\n    var attribute = array[i++];\n    var direct = attribute.value === UID;\n    var sparse;\n    if (direct || 1 < (sparse = attribute.value.split(UIDC)).length) {\n      var name = attribute.name;\n      // the following ignore is covered by IE\n      // and the IE9 double viewBox test\n      /* istanbul ignore else */\n      if (!cache.has(name)) {\n        var realName = parts.shift().replace(\n          direct ?\n            /^(?:|[\\S\\s]*?\\s)(\\S+?)\\s*=\\s*('|\")?$/ :\n            new RegExp(\n              '^(?:|[\\\\S\\\\s]*?\\\\s)(' + name + ')\\\\s*=\\\\s*(\\'|\")',\n              'i'\n            ),\n            '$1'\n        );\n        var value = attributes[realName] ||\n                      // the following ignore is covered by browsers\n                      // while basicHTML is already case-sensitive\n                      /* istanbul ignore next */\n                      attributes[realName.toLowerCase()];\n        cache.set(name, value);\n        if (direct)\n          holes.push(Attr(value, path, realName, null));\n        else {\n          var skip = sparse.length - 2;\n          while (skip--)\n            parts.shift();\n          holes.push(Attr(value, path, realName, sparse));\n        }\n      }\n      remove.push(attribute);\n    }\n  }\n  length = remove.length;\n  i = 0;\n  while (i < length) {\n    // Edge HTML bug #16878726\n    var attr = remove[i++];\n    if (/^id$/i.test(attr.name))\n      node.removeAttribute(attr.name);\n    // standard browsers would work just fine here\n    else\n      node.removeAttributeNode(attr);\n  }\n\n  // This is a very specific Firefox/Safari issue\n  // but since it should be a not so common pattern,\n  // it's probably worth patching regardless.\n  // Basically, scripts created through strings are death.\n  // You need to create fresh new scripts instead.\n  // TODO: is there any other node that needs such nonsense?\n  var nodeName = node.nodeName;\n  if (/^script$/i.test(nodeName)) {\n    // this used to be like that\n    // var script = createElement(node, nodeName);\n    // then Edge arrived and decided that scripts created\n    // through template documents aren't worth executing\n    // so it became this ... hopefully it won't hurt in the wild\n    var script = document.createElement(nodeName);\n    length = attributes.length;\n    i = 0;\n    while (i < length)\n      script.setAttributeNode(attributes[i++].cloneNode(true));\n    script.textContent = node.textContent;\n    node.parentNode.replaceChild(script, node);\n  }\n}\n\nfunction Any(node, path) {\n  return {\n    type: 'any',\n    node: node,\n    path: path\n  };\n}\n\nfunction Attr(node, path, name, sparse) {\n  return {\n    type: 'attr',\n    node: node,\n    path: path,\n    name: name,\n    sparse: sparse\n  };\n}\n\nfunction Text(node, path) {\n  return {\n    type: 'text',\n    node: node,\n    path: path\n  };\n}\n","// globals\nimport WeakMap from '@ungap/weakmap';\n\n// utils\nimport createContent from '@ungap/create-content';\nimport importNode from '@ungap/import-node';\nimport trim from '@ungap/trim';\nimport sanitize from 'domsanitizer';\n\n// local\nimport {find, parse} from './walker.js';\n\n// the domtagger \nexport default domtagger;\n\nvar parsed = new WeakMap;\nvar referenced = new WeakMap;\n\nfunction createInfo(options, template) {\n  var markup = sanitize(template);\n  var transform = options.transform;\n  if (transform)\n    markup = transform(markup);\n  var content = createContent(markup, options.type);\n  cleanContent(content);\n  var holes = [];\n  parse(content, holes, template.slice(0), []);\n  var info = {\n    content: content,\n    updates: function (content) {\n      var updates = [];\n      var len = holes.length;\n      var i = 0;\n      var off = 0;\n      while (i < len) {\n        var info = holes[i++];\n        var node = find(content, info.path);\n        switch (info.type) {\n          case 'any':\n            updates.push({fn: options.any(node, []), sparse: false});\n            break;\n          case 'attr':\n            var sparse = info.sparse;\n            var fn = options.attribute(node, info.name, info.node);\n            if (sparse === null)\n              updates.push({fn: fn, sparse: false});\n            else {\n              off += sparse.length - 2;\n              updates.push({fn: fn, sparse: true, values: sparse});\n            }\n            break;\n          case 'text':\n            updates.push({fn: options.text(node), sparse: false});\n            node.textContent = '';\n            break;\n        }\n      }\n      len += off;\n      return function () {\n        var length = arguments.length;\n        if (len !== (length - 1)) {\n          throw new Error(\n            (length - 1) + ' values instead of ' + len + '\\n' +\n            template.join('${value}')\n          );\n        }\n        var i = 1;\n        var off = 1;\n        while (i < length) {\n          var update = updates[i - off];\n          if (update.sparse) {\n            var values = update.values;\n            var value = values[0];\n            var j = 1;\n            var l = values.length;\n            off += l - 2;\n            while (j < l)\n              value += arguments[i++] + values[j++];\n            update.fn(value);\n          }\n          else\n            update.fn(arguments[i++]);\n        }\n        return content;\n      };\n    }\n  };\n  parsed.set(template, info);\n  return info;\n}\n\nfunction createDetails(options, template) {\n  var info = parsed.get(template) || createInfo(options, template);\n  var content = importNode.call(document, info.content, true);\n  var details = {\n    content: content,\n    template: template,\n    updates: info.updates(content)\n  };\n  referenced.set(options, details);\n  return details;\n}\n\nfunction domtagger(options) {\n  return function (template) {\n    var details = referenced.get(options);\n    if (details == null || details.template !== template)\n      details = createDetails(options, template);\n    details.updates.apply(null, arguments);\n    return details.content;\n  };\n}\n\nfunction cleanContent(fragment) {\n  var childNodes = fragment.childNodes;\n  var i = childNodes.length;\n  while (i--) {\n    var child = childNodes[i];\n    if (\n      child.nodeType !== 1 &&\n      trim.call(child.textContent).length === 0\n    ) {\n      fragment.removeChild(child);\n    }\n  }\n}\n","/*! (c) Andrea Giammarchi - ISC */\nvar hyperStyle = (function (){'use strict';\n  // from https://github.com/developit/preact/blob/33fc697ac11762a1cb6e71e9847670d047af7ce5/src/varants.js\n  var IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n  var hyphen = /([^A-Z])([A-Z]+)/g;\n  return function hyperStyle(node, original) {\n    return 'ownerSVGElement' in node ? svg(node, original) : update(node.style, false);\n  };\n  function ized($0, $1, $2) {\n    return $1 + '-' + $2.toLowerCase();\n  }\n  function svg(node, original) {\n    var style;\n    if (original)\n      style = original.cloneNode(true);\n    else {\n      node.setAttribute('style', '--hyper:style;');\n      style = node.getAttributeNode('style');\n    }\n    style.value = '';\n    node.setAttributeNode(style);\n    return update(style, true);\n  }\n  function toStyle(object) {\n    var key, css = [];\n    for (key in object)\n      css.push(key.replace(hyphen, ized), ':', object[key], ';');\n    return css.join('');\n  }\n  function update(style, isSVG) {\n    var oldType, oldValue;\n    return function (newValue) {\n      var info, key, styleValue, value;\n      switch (typeof newValue) {\n        case 'object':\n          if (newValue) {\n            if (oldType === 'object') {\n              if (!isSVG) {\n                if (oldValue !== newValue) {\n                  for (key in oldValue) {\n                    if (!(key in newValue)) {\n                      style[key] = '';\n                    }\n                  }\n                }\n              }\n            } else {\n              if (isSVG)\n                style.value = '';\n              else\n                style.cssText = '';\n            }\n            info = isSVG ? {} : style;\n            for (key in newValue) {\n              value = newValue[key];\n              styleValue = typeof value === 'number' &&\n                                  !IS_NON_DIMENSIONAL.test(key) ?\n                                  (value + 'px') : value;\n              if (!isSVG && /^--/.test(key))\n                info.setProperty(key, styleValue);\n              else\n                info[key] = styleValue;\n            }\n            oldType = 'object';\n            if (isSVG)\n              style.value = toStyle((oldValue = info));\n            else\n              oldValue = newValue;\n            break;\n          }\n        default:\n          if (oldValue != newValue) {\n            oldType = 'string';\n            oldValue = newValue;\n            if (isSVG)\n              style.value = newValue || '';\n            else\n              style.cssText = newValue || '';\n          }\n          break;\n      }\n    };\n  }\n}());\nexport default hyperStyle;\n","import createContent from '@ungap/create-content';\nimport domdiff from 'domdiff';\nimport domtagger from 'domtagger';\nimport hyperStyle from 'hyperhtml-style';\n\nimport {wireType, isArray} from './shared.js';\n\nconst OWNER_SVG_ELEMENT = 'ownerSVGElement';\n\n// returns nodes from wires and components\nconst asNode = (item, i) => item.nodeType === wireType ?\n  (\n    (1 / i) < 0 ?\n      (i ? item.remove(true) : item.lastChild) :\n      (i ? item.valueOf(true) : item.firstChild)\n  ) :\n  item\n;\n\n// returns true if domdiff can handle the value\nconst canDiff = value => 'ELEMENT_NODE' in value;\n\n// generic attributes helpers\nconst hyperAttribute = (node, original) => {\n  let oldValue;\n  let owner = false;\n  const attribute = original.cloneNode(true);\n  return newValue => {\n    if (oldValue !== newValue) {\n      oldValue = newValue;\n      if (attribute.value !== newValue) {\n        if (newValue == null) {\n          if (owner) {\n            owner = false;\n            node.removeAttributeNode(attribute);\n          }\n          attribute.value = newValue;\n        } else {\n          attribute.value = newValue;\n          if (!owner) {\n            owner = true;\n            node.setAttributeNode(attribute);\n          }\n        }\n      }\n    }\n  };\n};\n\n// events attributes helpers\nconst hyperEvent = (node, name) => {\n  let oldValue;\n  let type = name.slice(2);\n  if (name.toLowerCase() in node)\n    type = type.toLowerCase();\n  return newValue => {\n    if (oldValue !== newValue) {\n      if (oldValue)\n        node.removeEventListener(type, oldValue, false);\n      oldValue = newValue;\n      if (newValue)\n        node.addEventListener(type, newValue, false);\n    }\n  };\n};\n\n// special attributes helpers\nconst hyperProperty = (node, name) => {\n  let oldValue;\n  return newValue => {\n    if (oldValue !== newValue) {\n      oldValue = newValue;\n      if (node[name] !== newValue) {\n        if (newValue == null) {\n          // cleanup before dropping the attribute to fix IE/Edge gotcha\n          node[name] = '';\n          node.removeAttribute(name);\n        } else\n          node[name] = newValue;\n      }\n    }\n  };\n};\n\n// special hooks helpers\nconst hyperRef = node => {\n  return ref => {\n    ref.current = node;\n  };\n};\n\nconst hyperSetter = (node, name) => value => {\n  node[name] = value;\n};\n\n// list of attributes that should not be directly assigned\nconst readOnly = /^(?:form|list)$/i;\n\n// reused every slice time\nconst slice = [].slice;\n\n// simplifies text node creation\nconst text = (node, text) => node.ownerDocument.createTextNode(text);\n\nexport default function Tagger(type) {\n  this.type = type;\n  return domtagger(this);\n}\n\nTagger.prototype = {\n\n  // there are four kind of attributes, and related behavior:\n  //  * events, with a name starting with `on`, to add/remove event listeners\n  //  * special, with a name present in their inherited prototype, accessed directly\n  //  * regular, accessed through get/setAttribute standard DOM methods\n  //  * style, the only regular attribute that also accepts an object as value\n  //    so that you can style=${{width: 120}}. In this case, the behavior has been\n  //    fully inspired by Preact library and its simplicity.\n  attribute(node, name, original) {\n    switch (name) {\n      case 'class':\n        if (OWNER_SVG_ELEMENT in node)\n          return hyperAttribute(node, original);\n        name = 'className';\n      case 'data':\n      case 'props':\n        return hyperProperty(node, name);\n      case 'style':\n        return hyperStyle(node, original, OWNER_SVG_ELEMENT in node);\n      case 'ref':\n        return hyperRef(node);\n      default:\n        if (name.slice(0, 1) === '.')\n          return hyperSetter(node, name.slice(1));\n        if (name.slice(0, 2) === 'on')\n          return hyperEvent(node, name);\n        if (name in node && !(\n          OWNER_SVG_ELEMENT in node || readOnly.test(name)\n        ))\n          return hyperProperty(node, name);\n        return hyperAttribute(node, original);\n\n    }\n  },\n\n  // in a hyper(node)`<div>${content}</div>` case\n  // everything could happen:\n  //  * it's a JS primitive, stored as text\n  //  * it's null or undefined, the node should be cleaned\n  //  * it's a promise, update the content once resolved\n  //  * it's an explicit intent, perform the desired operation\n  //  * it's an Array, resolve all values if Promises and/or\n  //    update the node with the resulting list of content\n  any(node, childNodes) {\n    const diffOptions = {node: asNode, before: node};\n    const nodeType = OWNER_SVG_ELEMENT in node ? /* istanbul ignore next */ 'svg' : 'html';\n    let fastPath = false;\n    let oldValue;\n    const anyContent = value => {\n      switch (typeof value) {\n        case 'string':\n        case 'number':\n        case 'boolean':\n          if (fastPath) {\n            if (oldValue !== value) {\n              oldValue = value;\n              childNodes[0].textContent = value;\n            }\n          } else {\n            fastPath = true;\n            oldValue = value;\n            childNodes = domdiff(\n              node.parentNode,\n              childNodes,\n              [text(node, value)],\n              diffOptions\n            );\n          }\n          break;\n        case 'function':\n          anyContent(value(node));\n          break;\n        case 'object':\n        case 'undefined':\n          if (value == null) {\n            fastPath = false;\n            childNodes = domdiff(\n              node.parentNode,\n              childNodes,\n              [],\n              diffOptions\n            );\n            break;\n          }\n        default:\n          fastPath = false;\n          oldValue = value;\n          if (isArray(value)) {\n            if (value.length === 0) {\n              if (childNodes.length) {\n                childNodes = domdiff(\n                  node.parentNode,\n                  childNodes,\n                  [],\n                  diffOptions\n                );\n              }\n            } else {\n              switch (typeof value[0]) {\n                case 'string':\n                case 'number':\n                case 'boolean':\n                  anyContent(String(value));\n                  break;\n                case 'function':\n                  anyContent(value.map(invoke, node));\n                  break;\n                case 'object':\n                  if (isArray(value[0])) {\n                    value = value.concat.apply([], value);\n                  }\n                default:\n                  childNodes = domdiff(\n                    node.parentNode,\n                    childNodes,\n                    value,\n                    diffOptions\n                  );\n                  break;\n              }\n            }\n          } else if (canDiff(value)) {\n            childNodes = domdiff(\n              node.parentNode,\n              childNodes,\n              value.nodeType === 11 ?\n                slice.call(value.childNodes) :\n                [value],\n              diffOptions\n            );\n          } else if ('text' in value) {\n            anyContent(String(value.text));\n          } else if ('any' in value) {\n            anyContent(value.any);\n          } else if ('html' in value) {\n            childNodes = domdiff(\n              node.parentNode,\n              childNodes,\n              slice.call(\n                createContent(\n                  [].concat(value.html).join(''),\n                  nodeType\n                ).childNodes\n              ),\n              diffOptions\n            );\n          } else if ('length' in value) {\n            anyContent(slice.call(value));\n          }\n          break;\n      }\n    };\n    return anyContent;\n  },\n\n  // style or textareas don't accept HTML as content\n  // it's pointless to transform or analyze anything\n  // different from text there but it's worth checking\n  // for possible defined intents.\n  text(node) {\n    let oldValue;\n    const textContent = value => {\n      if (oldValue !== value) {\n        oldValue = value;\n        const type = typeof value;\n        if (type === 'object' && value) {\n          if ('text' in value) {\n            textContent(String(value.text));\n          } else if ('any' in value) {\n            textContent(value.any);\n          } else if ('html' in value) {\n            textContent([].concat(value.html).join(''));\n          } else if ('length' in value) {\n            textContent(slice.call(value).join(''));\n          }\n        } else if (type === 'function') {\n          textContent(value(node));\n        } else {\n          node.textContent = value == null ? '' : value;\n        }\n      }\n    };\n    return textContent;\n  }\n};\n\nfunction invoke(callback) {\n  return callback(this);\n}\n","import WeakMap from '@ungap/weakmap';\nimport tta from '@ungap/template-tag-arguments';\nimport {Wire, wireType, isArray} from './shared.js';\nimport Tagger from './tagger.js';\n\nconst wm = new WeakMap;\nconst container = new WeakMap;\n\nlet current = null;\n\n// can be used with any useRef hook\n// returns an `html` and `svg` function\nexport const hook = useRef => ({\n  html: createHook(useRef, html),\n  svg: createHook(useRef, svg)\n});\n\n// generic content render\nexport function render(node, callback) {\n  const value = update.call(this, node, callback);\n  if (container.get(node) !== value) {\n    container.set(node, value);\n    appendClean(node, value);\n  }\n  return node;\n}\n\n// keyed render via render(node, () => html`...`)\n// non keyed renders in the wild via html`...`\nexport const html = outer('html');\nexport const svg = outer('svg');\n\n// an indirect exposure of a domtagger capability\n// usable to transform once per template any layout\nexport const transform = callback => {\n  const {transform} = Tagger.prototype;\n  Tagger.prototype.transform = transform ?\n    markup => callback(transform(markup)) :\n    callback;\n};\n\n// - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\nfunction appendClean(node, fragment) {\n  node.textContent = '';\n  node.appendChild(fragment);\n}\n\nfunction asNode(result, forceFragment) {\n  return result.nodeType === wireType ?\n    result.valueOf(forceFragment) :\n    result;\n}\n\nfunction createHook(useRef, view) {\n  return function () {\n    const ref = useRef(null);\n    if (ref.current === null)\n      ref.current = view.for(ref);\n    return asNode(ref.current.apply(null, arguments), false);\n  };\n}\n\nfunction outer(type) {\n  const wm = new WeakMap;\n  tag.for = (identity, id) => {\n    const ref = wm.get(identity) || set(identity);\n    if (id == null)\n      id = '$';\n    return ref[id] || create(ref, id);\n  };\n  return tag;\n  function create(ref, id) {\n    let args = [];\n    let wire = null;\n    const tagger = new Tagger(type);\n    const callback = () => tagger.apply(null, unrollArray(args, 1, 1));\n    return (ref[id] = function () {\n      args = tta.apply(null, arguments);\n      const result = update(tagger, callback);\n      return wire || (wire = wiredContent(result));\n    });\n  }\n  function set(identity) {\n    const ref = {'$': null};\n    wm.set(identity, ref);\n    return ref;\n  }\n  function tag() {\n    const args = tta.apply(null, arguments);\n    return current ?\n      new Hole(type, args) :\n      new Tagger(type).apply(null, args);\n  }\n}\n\nfunction set(node) {\n  const info = {\n    i: 0, length: 0,\n    stack: [],\n    update: false\n  };\n  wm.set(node, info);\n  return info;\n}\n\nfunction update(reference, callback) {\n  const prev = current;\n  current = wm.get(reference) || set(reference);\n  current.i = 0;\n  const ret = callback.call(this);\n  let value;\n  if (ret instanceof Hole) {\n    value = asNode(unroll(ret, 0), current.update);\n    const {i, length, stack, update} = current;\n    if (i < length)\n      stack.splice(current.length = i);\n    if (update)\n      current.update = false;\n  } else {\n    value = asNode(ret, false);\n  }\n  current = prev;\n  return value;\n}\n\nfunction unroll(hole, level) {\n  const {i, length, stack} = current;\n  const {type, args} = hole;\n  const stacked = i < length;\n  current.i++;\n  if (!stacked)\n    current.length = stack.push({\n      l: level,\n      kind: type,\n      tag: null,\n      tpl: args[0],\n      wire: null\n    });\n  unrollArray(args, 1, level + 1);\n  const info = stack[i];\n  if (stacked) {\n    const {l:control, kind, tag, tpl, wire} = info;\n    if (control === level && type === kind && tpl === args[0]) {\n      tag.apply(null, args);\n      return wire;\n    }\n  }\n  const tag = new Tagger(type);\n  const wire = wiredContent(tag.apply(null, args));\n  info.l = level;\n  info.kind = type;\n  info.tag = tag;\n  info.tpl = args[0];\n  info.wire = wire;\n  if (i < 1)\n    current.update = true;\n  return wire;\n}\n\nfunction unrollArray(arr, i, level) {\n  for (const {length} = arr; i < length; i++) {\n    const value = arr[i];\n    if (typeof value === 'object' && value) {\n      if (value instanceof Hole) {\n        arr[i] = unroll(value, level - 1);\n      } else if (isArray(value)) {\n        arr[i] = unrollArray(value, 0, level++);\n      }\n    }\n  }\n  return arr;\n}\n\nfunction wiredContent(node) {\n  const childNodes = node.childNodes;\n  const {length} = childNodes;\n  return length === 1 ?\n    childNodes[0] :\n    (length ? new Wire(childNodes) : node);\n}\n\nObject.freeze(Hole);\nexport function Hole(type, args) {\n  this.type = type;\n  this.args = args;\n}\n","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","export function bind_class (classes, static_class) {\n    return [\n        ...Object\n            .keys(classes)\n            .filter(classname => classes[classname]), static_class\n        ]\n        .join(\" \");\n}\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","export function bind_style(style_object) {\n    return Object.entries(style_object).reduce((styleString, [propName, propValue]) => {\n        propName = propName.replace(/([A-Z])/g, matches => `-${matches[0].toLowerCase()}`);\n        return `${styleString}${propName}:${propValue};`;\n    }, '')\n}\n","import {html} from \"lighterhtml\";\nimport {bind_class} from \"../utils/bind_class.util.js\";\nimport {bind_style} from \"../utils/bind_style.util\";\n\nexport class UIView {\n    class_list = {};\n    specific_style = {};\n\n    constructor(...children) {\n        this.children = children;\n    }\n    transform() {\n        return this;\n    }\n    add_class(class_name) {\n        this.class_list[class_name] = true;\n        return this;\n    }\n    remove_class(class_name) {\n        this.class_list[class_name] = false;\n        return this;\n    }\n    padding(top, right, bottom, left) {\n        this.specific_style.padding = `${top}px ${right}px ${bottom}px ${left}px`;\n        return this;\n    }\n    margin(top, right, bottom, left) {\n        this.specific_style.margin = `${top}px ${right}px ${bottom}px ${left}px`;\n        return this;\n    }\n    render() {\n        return html`\n            <div \n                class=${bind_class(this.class_list, 'view')}\n                style=\"${bind_style(this.specific_style)}\">\n                ${this.children.map(c => c.render())}\n            </div>\n        `;\n    }\n}\n\nexport function View(...children) {\n    return new UIView(...children);\n}\n","import {UIView} from \"./View\";\nimport {html} from \"lighterhtml\";\n\nexport class UIButton extends UIView{\n    action = () => {};\n    label = \"\";\n\n    constructor (label) {\n        super();\n        this.label = label;\n    }\n\n    set_action(action) {\n        this.action = action;\n        return this;\n    }\n\n    render() {\n        return html`\n            <button onclick=${() => this.action()}>${this.label}</button>\n        `;\n    }\n}\n\nexport function Button(label) {\n    return new UIButton(label);\n}\n","import {UIView} from \"./View\";\n\nclass UIStack extends UIView {\n    constructor (...children) {\n        super(...children);\n        this.add_class(\"stack\");\n    }\n}\n\nexport class UIHorizontalStack extends UIStack {\n    constructor (...children) {\n        super(...children);\n        this.add_class(\"horizontal\")\n    }\n}\n\nexport class UIVerticalStack extends UIStack {\n    constructor (...children) {\n        super(...children);\n        this.add_class(\"vertical\")\n    }\n}\n\nexport function HStack(...children) {\n    return new UIHorizontalStack(...children);\n}\n\nexport function VStack(...children) {\n    return new UIVerticalStack(...children);\n}\n","import {html} from \"lighterhtml\";\nimport {bind_class} from \"../utils/bind_class.util\";\nimport {UIView} from \"./View\";\n\nexport const TEXT_STYLE = {\n    large_title: \"large_title\",\n    subheadline: \"subheadline\",\n    footnote: \"footnote\",\n    body: \"body\",\n    label: \"label\"\n};\n\nexport class UIText extends UIView {\n\n    is_uppercase = false;\n    is_bold = false;\n    style = TEXT_STYLE.body;\n\n    constructor (value, style) {\n        super({\n            render() {\n                return value;\n            }\n        });\n        this.value = value;\n        this.style = style;\n        this.add_class(\"text\");\n        this.add_class(style);\n    }\n\n    uppercase() {\n        this.add_class(\"uppercase\");\n        return this;\n    }\n    bold() {\n        this.add_class(\"bold\");\n        return this;\n    }\n    underline() {\n        this.add_class(\"underline\");\n        return this;\n    }\n    italic() {\n        this.add_class(\"italic\");\n        return this;\n    }\n    size(value) {\n        return this;\n    }\n\n    font(font_stack) {\n        return this;\n    }\n}\n\n\nexport function Text(value, style = TEXT_STYLE.body) {\n    return new UIText(value, style);\n}\n","import {UIView} from \"./View\";\nimport {html} from \"lighterhtml\";\nimport {bind_style} from \"../utils/bind_style.util\";\n\nexport class UITextField extends UIView {\n    specific_style = {};\n    constructor (name, type = \"text\", placeholder = \"\", formater) {\n        super();\n        this.name = name;\n        this.type = type;\n        this.placeholder = placeholder;\n        this.formater = formater;\n    }\n\n    margin(top, right, bottom, left) {\n        this.specific_style.margin = `${top}px ${right}px ${bottom}px ${left}px`;\n        return this;\n    }\n\n    render () {\n        return html`\n            <input class=\"text_field\" style=\"${bind_style(this.specific_style)}\" type=\"${this.type}\" name=\"${this.name}\" placeholder=\"${this.placeholder}\"/>\n        `;\n    }\n}\n\nexport function TextField(name, type = \"text\", placeholder = \"\", formater) {\n    return new UITextField(name, type, placeholder, formater);\n}\n","import {UIVerticalStack} from \"./Stack\";\nimport {Text, TEXT_STYLE} from \"./Text\";\nimport {TextField} from \"./TextField\";\n\nexport class UILabelTextField extends UIVerticalStack {\n    constructor (label, name, type, placeholder, formater) {\n        super(\n            Text(label, TEXT_STYLE.label),\n            TextField(name, type, placeholder, formater)\n                .margin(8, 0, 0, 0)\n        );\n        this.label = label;\n        this.name = name;\n        this.type = type;\n        this.placeholder = placeholder;\n        this.formater = formater;\n    }\n}\n\nexport function LabelTextField(label, name, type, placeholder, formater) {\n    return new UILabelTextField(label, name, type, placeholder, formater);\n}\n","import {\n    Button,\n    HStack,\n    VStack,\n    Text,\n    TEXT_STYLE,\n    Segment,\n    TextField,\n    LabelTextField,\n    View\n} from \"../index\";\nimport {render} from \"lighterhtml\";\n\nconst test_view = View(\n    VStack(\n        HStack(\n            Text(\"Book my ticket\", TEXT_STYLE.large_title),\n            Button(\"Hello\")\n                .set_action(() => console.log(\"button_click\"))\n        ),\n        Segment([\n            [\"a_value\", Text(\"A\", TEXT_STYLE.label)],\n            [\"b_value\", Text(\"B\", TEXT_STYLE.label)],\n            [\"c_value\", Text(\"C\", TEXT_STYLE.label)],\n            [\"d_value\", Text(\"D\", TEXT_STYLE.label)],\n        ])\n            .margin(8, 0, 8, 0)\n            .set_default_element(2)\n            .set_action(selected_value => console.log(selected_value)),\n        TextField(\"test\", \"text\", \"Test input\")\n            .margin(8, 0, 8, 0),\n        LabelTextField(\"Label\", \"test\", \"text\", \"Test input\")\n    )\n        .margin(8, 8, 8, 8),\n);\n\nexport function need_update () {\n    render(document.body, () => test_view.render());\n}\n\nwindow.addEventListener(\"load\", need_update);\n","import {UIView} from \"./View\";\nimport {bind_class} from \"../utils/bind_class.util.js\";\nimport {html} from \"lighterhtml\";\nimport {bind_style} from \"../utils/bind_style.util\";\nimport {need_update} from \"../preview/preview\";\n\nexport class UISegment extends UIView {\n    action = () => {};\n    selected_item = 0;\n\n    specific_style = {};\n\n    constructor (items) {\n        super();\n        this.items = items;\n    }\n\n    set_action (action) {\n        this.action = action;\n        return this;\n    }\n\n    set_default_element (index) {\n        this.selected_item = index;\n        return this;\n    }\n\n\n    margin(top, right, bottom, left) {\n        this.specific_style.margin = `${top}px ${right}px ${bottom}px ${left}px`;\n        return this;\n    }\n\n    render () {\n        return html`\n            <div \n                class=\"segment\"\n                style=\"${bind_style(this.specific_style)}\"\n            >\n                ${this.items.map(([value, view], i) => html`\n                    <div \n                        class=\"${bind_class({\n                            selected: i === this.selected_item\n                        }, 'item')}\" \n                        onclick=\"${() => {\n                            this.selected_item = i;\n                            this.action(value);\n                            need_update();\n                        }}\"\n                    >\n                        ${view.render()}\n                    </div>\n                `)}\n            </div>\n        `;\n    }\n}\n\nexport function Segment(...items) {\n    return new UISegment(...items);\n}\n","import {UIView} from \"../Components/View\";\n\nexport class UINavigationView extends UIView {\n    constructor (path, ...children) {\n        super(...children);\n        console.log(\"PATH\", path);\n    }\n}\n\nexport function NavigationView(...children) {\n    return new UINavigationView('/', ...children);\n}\n","export {Button, UIButton} from \"./Components/Button\"\nexport {LabelTextField, UILabelTextField} from \"./Components/LabelTextField\";\nexport {Segment, UISegment} from \"./Components/Segment\";\nexport {VStack, HStack, UIVerticalStack, UIHorizontalStack} from \"./Components/Stack\";\nexport {Text, UIText, TEXT_STYLE} from \"./Components/Text\";\nexport {TextField, UITextField} from \"./Components/TextField\";\nexport {View, UIView} from \"./Components/View\"\nexport {NavigationView, UINavigationView} from \"./Navigation/NavigationView\"\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}